{"ast":null,"code":"// Next.js API route support: https://nextjs.org/docs/api-routes/introduction\nimport mysql from 'serverless-mysql';\nconst db = mysql({\n  config: {\n    host: 'localhost',\n    port: '3306',\n    database: 'db_myblog',\n    user: 'root',\n    password: ''\n  }\n});\n\nasync function execQuery({\n  qry\n}) {\n  try {\n    const data = await db.query(qry);\n    await db.end();\n    return data;\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport default (async (req, res) => {\n  try {\n    const data = await execQuery({\n      qry: 'select * from tbl_kategori'\n    });\n    res.status(200).json(data);\n  } catch (err) {\n    console.log(err);\n  }\n});","map":{"version":3,"sources":["E:/ProjectUTS/aryaproject/pages/api/hello.js"],"names":["mysql","db","config","host","port","database","user","password","execQuery","qry","data","query","end","err","console","log","req","res","status","json"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,kBAAlB;AACA,MAAMC,EAAE,GAAGD,KAAK,CAAC;AACfE,EAAAA,MAAM,EAAG;AACPC,IAAAA,IAAI,EAAG,WADA;AAEPC,IAAAA,IAAI,EAAG,MAFA;AAGPC,IAAAA,QAAQ,EAAG,WAHJ;AAIPC,IAAAA,IAAI,EAAG,MAJA;AAKPC,IAAAA,QAAQ,EAAG;AALJ;AADM,CAAD,CAAhB;;AAUA,eAAeC,SAAf,CAAyB;AAACC,EAAAA;AAAD,CAAzB,EAA+B;AAC7B,MAAG;AACD,UAAMC,IAAI,GAAG,MAAMT,EAAE,CAACU,KAAH,CAASF,GAAT,CAAnB;AACA,UAAMR,EAAE,CAACW,GAAH,EAAN;AACA,WAAOF,IAAP;AACD,GAJD,CAKA,OAAMG,GAAN,EAAW;AACTC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF;;AAED,gBAAgB,OAAOG,GAAP,EAAYC,GAAZ,KAAoB;AAClC,MAAI;AACJ,UAAMP,IAAI,GAAG,MAAMF,SAAS,CAAC;AAC3BC,MAAAA,GAAG,EAAG;AADqB,KAAD,CAA5B;AAGAQ,IAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBT,IAArB;AACC,GALD,CAKC,OAAMG,GAAN,EAAU;AACTC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,CATD","sourcesContent":["// Next.js API route support: https://nextjs.org/docs/api-routes/introduction\r\nimport mysql from 'serverless-mysql'\r\nconst db = mysql({\r\n  config : {\r\n    host : 'localhost',\r\n    port : '3306',\r\n    database : 'db_myblog',\r\n    user : 'root',\r\n    password : ''\r\n  }\r\n})\r\n\r\nasync function execQuery({qry}){\r\n  try{\r\n    const data = await db.query(qry)\r\n    await db.end()\r\n    return data\r\n  }\r\n  catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nexport default  async (req, res) => {\r\n  try {\r\n  const data = await execQuery({\r\n    qry : 'select * from tbl_kategori'\r\n  })\r\n  res.status(200).json(data)\r\n  }catch(err){\r\n    console.log(err)\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}